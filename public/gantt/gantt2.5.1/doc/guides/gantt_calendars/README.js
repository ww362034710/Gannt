Ext.data.JsonP.gantt_calendars({"guide":"<h1 id='gantt_calendars-section-introduction'>Introduction</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/gantt_calendars-section-project-calendar-and-basic-features'>Project calendar and basic features</a></li>\n<li><a href='#!/guide/gantt_calendars-section-calendar-manager'>Calendar manager</a></li>\n<li><a href='#!/guide/gantt_calendars-section-advanced-features'>Advanced features</a></li>\n<li><a href='#!/guide/gantt_calendars-section-calendar-crud'>Calendar CRUD</a></li>\n<li><a href='#!/guide/gantt_calendars-section-cheatsheet'>Cheatsheet</a></li>\n</ol>\n</div>\n\n<p>Ext Gantt is very flexible in defining the availability time for your tasks and resources.\nEvery task (or resource) may have own <em>calendar</em>, specifying the time when they can be performed (or can work) accurate to minutes.\nIn turn, calendars may form hierarchical structures, every next layer of which may adjust the rules, defined in the previous layers.\nIn the same time, if you don't need that level of precision and control, few base options will configure the default behavior for everything.</p>\n\n<h2 id='gantt_calendars-section-project-calendar-and-basic-features'>Project calendar and basic features</h2>\n\n<p>Project calendar is a \"main\" instance of the <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a> class, that affects whole project and defines global rules,\nfor example what week days are weekends. It can be instantiated as any other Ext class and provided either to the <a href=\"#!/api/Gnt.data.TaskStore\" rel=\"Gnt.data.TaskStore\" class=\"docClass\">taskStore</a>\nor to the <a href=\"#!/api/Gnt.panel.Gantt\" rel=\"Gnt.panel.Gantt\" class=\"docClass\">gantt panel</a> (the first option is preferable):</p>\n\n<pre><code>var taskStore   = new <a href=\"#!/api/Gnt.data.TaskStore\" rel=\"Gnt.data.TaskStore\" class=\"docClass\">Gnt.data.TaskStore</a>({\n    calendar    : new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({ ... })\n})\n// or\nvar ganttPanel  = new <a href=\"#!/api/Gnt.panel.Gantt\" rel=\"Gnt.panel.Gantt\" class=\"docClass\">Gnt.panel.Gantt</a>({\n    calendar    : new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({ ... }),\n})\n</code></pre>\n\n<p>And when using <a href=\"#!/guide/gantt_crud_manager\">CRUD manager</a> with <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">calendar manager</a> the project calendar will be set automatically:</p>\n\n<pre><code>var taskStore   = new <a href=\"#!/api/Gnt.data.TaskStore\" rel=\"Gnt.data.TaskStore\" class=\"docClass\">Gnt.data.TaskStore</a>({\n    calendarManager : new <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">Gnt.data.CalendarManager</a>({ ... })\n})\n\nvar crud = new <a href=\"#!/api/Gnt.data.CrudManager\" rel=\"Gnt.data.CrudManager\" class=\"docClass\">Gnt.data.CrudManager</a>({\n    // task store will get its calendar right after calendarManager loading\n    taskStore : taskStore,\n    ...\n})\n</code></pre>\n\n<p>Calendar has various options, most important of them:</p>\n\n<ul>\n<li><a href=\"#!/api/Gnt.data.Calendar-cfg-daysPerMonth\" rel=\"Gnt.data.Calendar-cfg-daysPerMonth\" class=\"docClass\">daysPerMonth</a>, <a href=\"#!/api/Gnt.data.Calendar-cfg-daysPerWeek\" rel=\"Gnt.data.Calendar-cfg-daysPerWeek\" class=\"docClass\">daysPerWeek</a>, <a href=\"#!/api/Gnt.data.Calendar-cfg-hoursPerDay\" rel=\"Gnt.data.Calendar-cfg-hoursPerDay\" class=\"docClass\">hoursPerDay</a> This group of\noptions defines the conversion rules for duration and effort. They are needed, because certain duration units can not be converted to some other units unambiguously.\nFor example a task with 1 month duration may mean 30, 31 or may be 28 days. A 1 day taks may be 8 hours task or 10 hours, depending how long is your working day. For such conversions\ncalendar uses these options. <strong>Please note</strong>, that for backward compatibility reasons <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a> is configured with <code>hoursPerDay=24, daysPerWeek=7, daysPerMonth=30</code> setting.\nFor usual business time conversion rules (8 hours per day, etc), use <a href=\"#!/api/Gnt.data.calendar.BusinessTime\" rel=\"Gnt.data.calendar.BusinessTime\" class=\"docClass\">Gnt.data.calendar.BusinessTime</a></li>\n<li><a href=\"#!/api/Gnt.data.Calendar-cfg-defaultAvailability\" rel=\"Gnt.data.Calendar-cfg-defaultAvailability\" class=\"docClass\">defaultAvailability</a> This option defines the time within the day, when the work can be performed.</li>\n<li><a href=\"#!/api/Gnt.data.Calendar-cfg-weekendsAreWorkdays\" rel=\"Gnt.data.Calendar-cfg-weekendsAreWorkdays\" class=\"docClass\">weekendsAreWorkdays</a> Boolean option, indicating whether weekends should be considered as working days and included in the\ntask durations.</li>\n</ul>\n\n\n<p>Calendar and its options defines the data calculations. Some other options related to the weekends and holidays:</p>\n\n<ul>\n<li><a href=\"#!/api/Gnt.panel.Gantt-cfg-highlightWeekends\" rel=\"Gnt.panel.Gantt-cfg-highlightWeekends\" class=\"docClass\">highlightWeekends</a> <code>true</code> to highlight the weekends and holidays</li>\n<li><a href=\"#!/api/Gnt.data.TaskStore-cfg-skipWeekendsDuringDragDrop\" rel=\"Gnt.data.TaskStore-cfg-skipWeekendsDuringDragDrop\" class=\"docClass\">skipWeekendsDuringDragDrop</a> <code>true</code> to skip the weekends and holidays during drag and drop operations (move/resize).</li>\n</ul>\n\n\n<h2 id='gantt_calendars-section-calendar-manager'>Calendar manager</h2>\n\n<p>There is a <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">Gnt.data.CalendarManager</a> class that implements a centralized storage of all the calendars related to the project.\nEach record put into <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">Gnt.data.CalendarManager</a> instance, except the root node, is automatically gets linked to its <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">calendar instance</a>\nwhich can be retrieved by getCalendar method.</p>\n\n<pre><code>var calendarManager = Ext.create('<a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">Gnt.data.CalendarManager</a>');\n\n...\n\n// and here we do the same using <a href=\"#!/api/Gnt.model.Calendar\" rel=\"Gnt.model.Calendar\" class=\"docClass\">Gnt.model.Calendar</a> <a href=\"#!/api/Gnt.model.Calendar-method-getCalendar\" rel=\"Gnt.model.Calendar-method-getCalendar\" class=\"docClass\">getCalendar</a> method.\nvar calendar = calendarManager.getById('general').getCalendar();\n\n// gets calendar instance having calendar Id equal to 'general'\ncalendar = calendarManager.getCalendar('general');\n</code></pre>\n\n<p>When you add a new record a new calendar is automatically gets created:</p>\n\n<pre><code>// append new record to the calendar manager\nvar record = calendarManager.getRootNode().appendChild({\n    leaf                : true,\n    Name                : 'General II',\n    DaysPerMonth        : 30,\n    DaysPerWeek         : 7,\n    HoursPerDay         : 24,\n    WeekendsAreWorkdays : true,\n    WeekendFirstDay     : 6,\n    WeekendSecondDay    : 0,\n    DefaultAvailability : [ '00:00-24:00' ]\n});\n\n// get newly created calendar to calendar2 variable\nvar calendar2 = record.getCalendar();\n</code></pre>\n\n<p>Calendar manager is also able to work together with <a href=\"#!/guide/gantt_crud_manager\">CRUD manager</a> which means that all calendars can be loaded by a single request.\nPlease read <a href=\"#!/guide/gantt_calendars-section-4\">Calendar CRUD</a> chapter for details.</p>\n\n<h2 id='gantt_calendars-section-advanced-features'>Advanced features</h2>\n\n<h3 id='gantt_calendars-section-individual-days'>Individual days</h3>\n\n<p>Previous section was describing the basic features of calendars and was mostly talking about weekends. Now lets see how we can create an arbitrary day off in the calendar.</p>\n\n<p>Internally, calendar is presented with the subclass of the Ext.data.Store and can be loaded with the collection of <a href=\"#!/api/Gnt.model.CalendarDay\" rel=\"Gnt.model.CalendarDay\" class=\"docClass\">Gnt.model.CalendarDay</a> instances. Every day instance\ncan be of different type (see <code>Type</code> field of the <a href=\"#!/api/Gnt.model.CalendarDay\" rel=\"Gnt.model.CalendarDay\" class=\"docClass\">Gnt.model.CalendarDay</a>):</p>\n\n<ul>\n<li>\"Day override\". Represents a certain date in the calendar, for example 2013/01/10. This type of days has the highest priority.</li>\n<li>\"Week day override\" sometimes called \"week override\" or \"non-standard week\". Represents a week day within certain time span,\nfor example - all Mondays in between 2013/01/10 and 2013/02/10, inclusive. This type has the next level of priority.</li>\n<li>\"Week day\". Represents a certain week day in the calendar, for example - all Mondays. It has the lowest priority among all the \"special\" days, but still\noverrides the value of <a href=\"#!/api/Gnt.data.Calendar-cfg-defaultAvailability\" rel=\"Gnt.data.Calendar-cfg-defaultAvailability\" class=\"docClass\">defaultAvailability</a> config option for that day.</li>\n</ul>\n\n\n<p>Every calendar day instance also has the <code>Availability</code> field. It defines the working time for that day instance, for example : <code>[ '08:00-12:00', '13:00-17:00' ]</code></p>\n\n<p>So, to create a holiday in the calendar or adjust the working time for some day - add an appropriate calendar day instance to it:</p>\n\n<pre><code>var calendar    = new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({\n    defaultAvailability : [ '08:00-12:00', '13:00-17:00' ]\n})\n\ncalendar.add([\n    // a concrete date\n    {\n        Date            : new Date(2013, 0, 1),\n        Name            : 'New year',\n        Cls             : 'app-calendar-newyear'\n    },\n    {\n        Date            : new Date(2013, 0, 5),\n        Name            : 'Working Saturday',\n        Cls             : 'app-calendar-workingsaturday',\n        IsWorkingDay    : true,\n        Availability    : [ '08:00-12:00', '13:00-16:00' ]\n    },\n    // a week day, increasing the working time on Monday on 1 hour\n    {\n        Weekday         : 1,\n        Name            : 'All Mondays',\n        Cls             : 'app-calendar-monday',\n        Availability    : [ '07:00-12:00', '13:00-17:00' ]\n    }\n])\n</code></pre>\n\n<p>Note that you can specify that some weekend day is actually working day, using <code>IsWorkingDay</code> field. In such cases <code>Availability</code> field is still required, or gantt won't schedule any tasks on that day.</p>\n\n<p>\"Week day overrides\" consists from several days and also requires the presence of the \"main day\", for their creation its recommended to use according API in the calendar:\n<a href=\"#!/api/Gnt.data.Calendar-method-addNonStandardWeek\" rel=\"Gnt.data.Calendar-method-addNonStandardWeek\" class=\"docClass\">addNonStandardWeek</a>, <a href=\"#!/api/Gnt.data.Calendar-method-removeNonStandardWeek\" rel=\"Gnt.data.Calendar-method-removeNonStandardWeek\" class=\"docClass\">removeNonStandardWeek</a>.</p>\n\n<p>You can visually edit the content of the calendar using <a href=\"#!/api/Gnt.widget.calendar.Calendar\" rel=\"Gnt.widget.calendar.Calendar\" class=\"docClass\">Gnt.widget.calendar.Calendar</a> widget.</p>\n\n<h3 id='gantt_calendars-section-assigning-individual-calendars-to-task-and-resources'>Assigning individual calendars to task and resources</h3>\n\n<p>Task and resources may have their own calendars. If calendar is assigned to the task, in defines the time, when task can be performed.\nIf calendar is assigned to the resource, in defines the time, when resource can perform the tasks.</p>\n\n<p><strong>Important</strong>. If some task has no own calendar and has assigned resources, then it will use the calendars of the resources to determine the time when it can be performed.\nSuch task can be performed at the moment X, when at least one assigned resource has working time at that moment.\nIf some task has own calendar and has assigned resources, then it will use the <em>intersection</em> of the working time from own calendar and the calendars of its resources to determine the time when it can be performed.\nSuch task can be performed at the moment X, when at least one assigned resource has working time at that moment and that moment is \"working\" in own calendar of the task.</p>\n\n<p>To be assignable, calendar need to have an unique <a href=\"#!/api/Gnt.data.Calendar-cfg-calendarId\" rel=\"Gnt.data.Calendar-cfg-calendarId\" class=\"docClass\">calendarId</a> property:</p>\n\n<pre><code>var calendar1   = new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({\n    calendarId      : 'calendar1'\n})\n</code></pre>\n\n<p>The value of this property can be provided as the <code>CalendarId</code> field of the <a href=\"#!/api/Gnt.model.Task\" rel=\"Gnt.model.Task\" class=\"docClass\">Gnt.model.Task</a> or <a href=\"#!/api/Gnt.model.Resource\" rel=\"Gnt.model.Resource\" class=\"docClass\">Gnt.model.Resource</a>.</p>\n\n<h3 id='gantt_calendars-section-parent-child-relations-between-calendars'>Parent-child relations between calendars</h3>\n\n<p>Calendars may form a tree-like structures, using parent-child relation. The parent of the calendar can be specified with the <a href=\"#!/api/Gnt.data.Calendar-cfg-parent\" rel=\"Gnt.data.Calendar-cfg-parent\" class=\"docClass\">parent</a> property, or later\nchanged with the <a href=\"#!/api/Gnt.data.Calendar-method-setParent\" rel=\"Gnt.data.Calendar-method-setParent\" class=\"docClass\">setParent</a> method:</p>\n\n<pre><code>var calendar2   = new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({\n    parent          : 'calendar1',\n    calendarId      : 'calendar2'\n})\n\nvar calendar3   = new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({\n    calendarId      : 'calendar2'\n})\n\ncalendar2.setParent(calendar3);\n</code></pre>\n\n<p>Child calendar will \"inherit\" from parent \"day overrides\", \"week days\", \"week day overrides\" and even <code>defaultAvailability/weekendsAreWorkdays</code> configs.\nOwn calendar day instances, falling on the same dates with the calendar days from parent calendar will of course override them.</p>\n\n<p>Please note, that <code>defaultAvailability/weekendsAreWorkdays</code> configs are inherited in case they were not provided when instatiating the calendar\nand default values were used. If you need to override any of these configs - provide the value to the calendar, even if its the same as default value:</p>\n\n<pre><code>var childCalendar   = new <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a>({\n    parent                  : 'calendar1',\n    // explicitly providing the value (even that `false` is default)\n    // to override this config from parent\n    weekendsAreWorkdays     : false\n})\n</code></pre>\n\n<p>You can use this feature for example like this. Main project calendar will contain \"global\" holidays (national holidays) and all other calendars of tasks and resources can be its children.\nThen calendars of tasks and resources can only contain few days, specific for that task/resource and there's no need to re-define all the holidays.</p>\n\n<h2 id='gantt_calendars-section-calendar-crud'>Calendar CRUD</h2>\n\n<p>When using the calendars with some individual days off (\"day overrides\") always store the <code>Duration</code> field in the database. Moreover, it is recommended that you store\n<em>only</em> <code>StartDate</code> and <code>Duration</code>, and <em>not</em> store the <code>EndDate</code> in the DB.</p>\n\n<p>There are two approaches to interact with a server when it comes to calendars:</p>\n\n<ul>\n<li>classic <em>per-store</em> approach</li>\n<li>CRUD manager usage</li>\n</ul>\n\n\n<h3 id='gantt_calendars-section-classic-per-store-approach'>Classic per-store approach</h3>\n\n<p>This method relies on a classic <em>Sencha</em> provided proxy classes when user has to define a proxy for each individual store to give it ability to interact with a server.\nSo in our case user will have to do it for each calendar instance he plans to deal with.</p>\n\n<p>For performance and consistency reasons, it is recommended to load all your calendars <strong>before</strong> the other stores and task store <strong>after</strong> them.\nOtherwise what will happen is that after calendar will be loaded, (keep in mind that network latency is unpredictable and that may happen with arbitrary delay)\ngantt will need to adjust all tasks according to it. When updating the task, gantt needs the information about its assignments and dependencies,\nso other stores should be already loaded. The correct order to load the data:</p>\n\n<ol>\n<li>Calendars (including setting the \"calendarId\" property).</li>\n<li>Resource store, assignment store, dependencies store in any order</li>\n<li>Task store.</li>\n</ol>\n\n\n<p>There's no need to delay the loading of the task store. You can start several requests simultaneously, but put the data in the stores in the correct order. The other option\nis to make the initial loading package to contain all data.</p>\n\n<p>The easiest way to edit the data in the calendar is to use the special widget: <a href=\"#!/api/Gnt.widget.calendar.Calendar\" rel=\"Gnt.widget.calendar.Calendar\" class=\"docClass\">Gnt.widget.calendar.Calendar</a></p>\n\n<h3 id='gantt_calendars-section-crud-manager-usage'>CRUD manager usage</h3>\n\n<p>Another option is to use a <a href=\"#!/guide/gantt_crud_manager\">CRUD manager</a> with a <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">calendar manager</a>.\nThis binding will allow to load <strong> all the project calendars </strong> by a single batch request together with other project related stores (and changes persisting will be done by one request as well).\nIn this case you don't need to worry about such things as loading order or individual calendars creation.\nA <a href=\"#!/guide/gantt_crud_manager\">CRUD manager</a> is aware of correct loading order and\na <a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">calendar manager</a> will create all the project calendars properly.</p>\n\n<pre><code>// centralized store of all the project calendars\nvar calendarManager = Ext.create('<a href=\"#!/api/Gnt.data.CalendarManager\" rel=\"Gnt.data.CalendarManager\" class=\"docClass\">Gnt.data.CalendarManager</a>');\n\nvar taskStore = Ext.create('<a href=\"#!/api/Gnt.data.TaskStore\" rel=\"Gnt.data.TaskStore\" class=\"docClass\">Gnt.data.TaskStore</a>', {\n    calendarManager : calendarManager,\n    resourceStore   : resourceStore,\n    dependencyStore : dependencyStore,\n    assignmentStore : assignmentStore\n});\n\n// centralized store of all the project stores\n// will automatically load calendarManager, resourceStore, dependencyStore,\n// assignmentStore and taskStore stores by a single batch request\nvar crudManager = Ext.create('<a href=\"#!/api/Gnt.data.CrudManager\" rel=\"Gnt.data.CrudManager\" class=\"docClass\">Gnt.data.CrudManager</a>', {\n    taskStore       : taskStore,\n    ...\n});\n</code></pre>\n\n<h2 id='gantt_calendars-section-cheatsheet'>Cheatsheet</h2>\n\n<p>Now lets review various scenarios and how you can configure your project for them:</p>\n\n<p>1) <strong>Requirements:</strong> You are only interested in days for your tasks. Start time (12:00, 18:30 etc), end time doesn't matter in your case, only the date (2013/01/01, 2013/02/07).\nYou would like to <em>exclude</em> the weekends from tasks duration and only count working time.</p>\n\n<p><strong>Solution:</strong> Use plain <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a> instance, with possibly adjusted duration conversion parameters.</p>\n\n<p>2) <strong>Requirements:</strong> You are only interested in days for your tasks. Start time (12:00, 18:30 etc), end time doesn't matter in your case, only the date (2013/01/01, 2013/02/07).\nYou would like to <em>include</em> the weekends to the tasks duration and count any time.</p>\n\n<p><strong>Solution:</strong> Use plain <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a> instance, with possibly adjusted duration conversion parameters. Set <a href=\"#!/api/Gnt.data.Calendar-cfg-weekendsAreWorkdays\" rel=\"Gnt.data.Calendar-cfg-weekendsAreWorkdays\" class=\"docClass\">weekendsAreWorkdays</a> to <code>true</code></p>\n\n<p>3) <strong>Requirements:</strong> You are only interested in days for your tasks. Start time (12:00, 18:30 etc), end time doesn't matter in your case, only the date (2013/01/01, 2013/02/07).\nYou would like to <em>exclude</em> the weekends from tasks duration and only count working time. You would like to define some holidays, that will be global and that should be excluded\nfrom the working time as well.</p>\n\n<p><strong>Solution:</strong> Use plain <a href=\"#!/api/Gnt.data.Calendar\" rel=\"Gnt.data.Calendar\" class=\"docClass\">Gnt.data.Calendar</a> instance, with possibly adjusted duration conversion parameters. Add the \"day overrides\" to it - one for each holiday.</p>\n\n<p>4) <strong>Requirements:</strong> Start time and end time matters in your case, you would like to be precise (like, Task1 starts at 2013/01/01 15:00).\nYou would like to <em>exclude</em> the weekends and non-working time from tasks duration and only count working time. You need to define the working time for every day.\nCertain week days or days in the calendar may have different working time. Certain tasks or resources may have own rules for working time.</p>\n\n<p><strong>Solution:</strong> Use <a href=\"#!/api/Gnt.data.calendar.BusinessTime\" rel=\"Gnt.data.calendar.BusinessTime\" class=\"docClass\">Gnt.data.calendar.BusinessTime</a> instance, with possibly adjusted duration conversion parameters. Add the \"day overrides\" to it - one for each holiday.\nAdd additional calendar instances (with \"calendarId\" property defined) for every task and resource that needs own calendar (consider using parent-child relation between them and project calendar). Make use of\n<a href=\"#!/api/Gnt.widget.calendar.Calendar\" rel=\"Gnt.widget.calendar.Calendar\" class=\"docClass\">Gnt.widget.calendar.Calendar</a> for editing calendar content.</p>\n","title":"Using calendars"});