StartTest(function(t) {
    var getData   = function (config) {
        return t.getTaskStore(Ext.apply({
            DATA    : [],
            root    : { Id : 'root', children : [], loaded : true }
        }, config));
    }
    
    t.it('Should get new task by id generated by uuid', function (t) {
        Ext.define('Gnt.model.MyModel', {
            extend  : 'Gnt.model.Task',
            idgen   : 'uuid'        
        });
        
        var taskStore   = getData({model   : 'Gnt.model.MyModel'});
        var rootNode    = taskStore.getRootNode();
        
        var newNode = new taskStore.model({ Name : 'without id' });
        rootNode.appendChild(newNode);
        
        var node = taskStore.getById(newNode.getId());
        
        if (node) {
            t.is(node.getName(), 'without id', 'Got correct node');    
        } else {
            t.fail('Couldn\'t find node by id', {
                got     : node,
                need    : newNode
            });
        }
        
    });
});
